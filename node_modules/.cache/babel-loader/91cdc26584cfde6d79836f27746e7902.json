{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.compileGeneralSelector = void 0;\n\nvar attributes_1 = require(\"./attributes\");\n\nvar pseudo_selectors_1 = require(\"./pseudo-selectors\");\n/*\n * All available rules\n */\n\n\nfunction compileGeneralSelector(next, selector, options, context, compileToken) {\n  var adapter = options.adapter,\n      equals = options.equals;\n\n  switch (selector.type) {\n    case \"pseudo-element\":\n      throw new Error(\"Pseudo-elements are not supported by css-select\");\n\n    case \"attribute\":\n      return attributes_1.attributeRules[selector.action](next, selector, options);\n\n    case \"pseudo\":\n      return pseudo_selectors_1.compilePseudoSelector(next, selector, options, context, compileToken);\n    // Tags\n\n    case \"tag\":\n      return function tag(elem) {\n        return adapter.getName(elem) === selector.name && next(elem);\n      };\n    // Traversal\n\n    case \"descendant\":\n      if (options.cacheResults === false || typeof WeakSet === \"undefined\") {\n        return function descendant(elem) {\n          var current = elem;\n\n          while (current = adapter.getParent(current)) {\n            if (adapter.isTag(current) && next(current)) {\n              return true;\n            }\n          }\n\n          return false;\n        };\n      } // @ts-expect-error `ElementNode` is not extending object\n      // eslint-disable-next-line no-case-declarations\n\n\n      var isFalseCache_1 = new WeakSet();\n      return function cachedDescendant(elem) {\n        var current = elem;\n\n        while (current = adapter.getParent(current)) {\n          if (!isFalseCache_1.has(current)) {\n            if (adapter.isTag(current) && next(current)) {\n              return true;\n            }\n\n            isFalseCache_1.add(current);\n          }\n        }\n\n        return false;\n      };\n\n    case \"_flexibleDescendant\":\n      // Include element itself, only used while querying an array\n      return function flexibleDescendant(elem) {\n        var current = elem;\n\n        do {\n          if (adapter.isTag(current) && next(current)) return true;\n        } while (current = adapter.getParent(current));\n\n        return false;\n      };\n\n    case \"parent\":\n      return function parent(elem) {\n        return adapter.getChildren(elem).some(function (elem) {\n          return adapter.isTag(elem) && next(elem);\n        });\n      };\n\n    case \"child\":\n      return function child(elem) {\n        var parent = adapter.getParent(elem);\n        return parent != null && adapter.isTag(parent) && next(parent);\n      };\n\n    case \"sibling\":\n      return function sibling(elem) {\n        var siblings = adapter.getSiblings(elem);\n\n        for (var i = 0; i < siblings.length; i++) {\n          var currentSibling = siblings[i];\n          if (equals(elem, currentSibling)) break;\n\n          if (adapter.isTag(currentSibling) && next(currentSibling)) {\n            return true;\n          }\n        }\n\n        return false;\n      };\n\n    case \"adjacent\":\n      return function adjacent(elem) {\n        var siblings = adapter.getSiblings(elem);\n        var lastElement;\n\n        for (var i = 0; i < siblings.length; i++) {\n          var currentSibling = siblings[i];\n          if (equals(elem, currentSibling)) break;\n\n          if (adapter.isTag(currentSibling)) {\n            lastElement = currentSibling;\n          }\n        }\n\n        return !!lastElement && next(lastElement);\n      };\n\n    case \"universal\":\n      return next;\n  }\n}\n\nexports.compileGeneralSelector = compileGeneralSelector;","map":{"version":3,"names":["Object","defineProperty","exports","value","compileGeneralSelector","attributes_1","require","pseudo_selectors_1","next","selector","options","context","compileToken","adapter","equals","type","Error","attributeRules","action","compilePseudoSelector","tag","elem","getName","name","cacheResults","WeakSet","descendant","current","getParent","isTag","isFalseCache_1","cachedDescendant","has","add","flexibleDescendant","parent","getChildren","some","child","sibling","siblings","getSiblings","i","length","currentSibling","adjacent","lastElement"],"sources":["/Users/sebas/Desktop/robofriends-testing/node_modules/css-select/lib/general.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.compileGeneralSelector = void 0;\nvar attributes_1 = require(\"./attributes\");\nvar pseudo_selectors_1 = require(\"./pseudo-selectors\");\n/*\n * All available rules\n */\nfunction compileGeneralSelector(next, selector, options, context, compileToken) {\n    var adapter = options.adapter, equals = options.equals;\n    switch (selector.type) {\n        case \"pseudo-element\":\n            throw new Error(\"Pseudo-elements are not supported by css-select\");\n        case \"attribute\":\n            return attributes_1.attributeRules[selector.action](next, selector, options);\n        case \"pseudo\":\n            return pseudo_selectors_1.compilePseudoSelector(next, selector, options, context, compileToken);\n        // Tags\n        case \"tag\":\n            return function tag(elem) {\n                return adapter.getName(elem) === selector.name && next(elem);\n            };\n        // Traversal\n        case \"descendant\":\n            if (options.cacheResults === false ||\n                typeof WeakSet === \"undefined\") {\n                return function descendant(elem) {\n                    var current = elem;\n                    while ((current = adapter.getParent(current))) {\n                        if (adapter.isTag(current) && next(current)) {\n                            return true;\n                        }\n                    }\n                    return false;\n                };\n            }\n            // @ts-expect-error `ElementNode` is not extending object\n            // eslint-disable-next-line no-case-declarations\n            var isFalseCache_1 = new WeakSet();\n            return function cachedDescendant(elem) {\n                var current = elem;\n                while ((current = adapter.getParent(current))) {\n                    if (!isFalseCache_1.has(current)) {\n                        if (adapter.isTag(current) && next(current)) {\n                            return true;\n                        }\n                        isFalseCache_1.add(current);\n                    }\n                }\n                return false;\n            };\n        case \"_flexibleDescendant\":\n            // Include element itself, only used while querying an array\n            return function flexibleDescendant(elem) {\n                var current = elem;\n                do {\n                    if (adapter.isTag(current) && next(current))\n                        return true;\n                } while ((current = adapter.getParent(current)));\n                return false;\n            };\n        case \"parent\":\n            return function parent(elem) {\n                return adapter\n                    .getChildren(elem)\n                    .some(function (elem) { return adapter.isTag(elem) && next(elem); });\n            };\n        case \"child\":\n            return function child(elem) {\n                var parent = adapter.getParent(elem);\n                return parent != null && adapter.isTag(parent) && next(parent);\n            };\n        case \"sibling\":\n            return function sibling(elem) {\n                var siblings = adapter.getSiblings(elem);\n                for (var i = 0; i < siblings.length; i++) {\n                    var currentSibling = siblings[i];\n                    if (equals(elem, currentSibling))\n                        break;\n                    if (adapter.isTag(currentSibling) && next(currentSibling)) {\n                        return true;\n                    }\n                }\n                return false;\n            };\n        case \"adjacent\":\n            return function adjacent(elem) {\n                var siblings = adapter.getSiblings(elem);\n                var lastElement;\n                for (var i = 0; i < siblings.length; i++) {\n                    var currentSibling = siblings[i];\n                    if (equals(elem, currentSibling))\n                        break;\n                    if (adapter.isTag(currentSibling)) {\n                        lastElement = currentSibling;\n                    }\n                }\n                return !!lastElement && next(lastElement);\n            };\n        case \"universal\":\n            return next;\n    }\n}\nexports.compileGeneralSelector = compileGeneralSelector;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}