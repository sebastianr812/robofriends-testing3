{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.update = void 0;\n\nvar htmlparser2_1 = require(\"htmlparser2\");\n\nvar htmlparser2_adapter_1 = require(\"./parsers/htmlparser2-adapter\");\n\nvar parse5_adapter_1 = require(\"./parsers/parse5-adapter\");\n\nvar domhandler_1 = require(\"domhandler\");\n/*\n * Parser\n */\n\n\nfunction parse(content, options, isDocument) {\n  if (typeof Buffer !== 'undefined' && Buffer.isBuffer(content)) {\n    content = content.toString();\n  }\n\n  if (typeof content === 'string') {\n    return options.xmlMode || options._useHtmlParser2 ? htmlparser2_adapter_1.parse(content, options) : parse5_adapter_1.parse(content, options, isDocument);\n  }\n\n  var doc = content;\n\n  if (!Array.isArray(doc) && domhandler_1.isDocument(doc)) {\n    // If `doc` is already a root, just return it\n    return doc;\n  } // Add conent to new root element\n\n\n  var root = new domhandler_1.Document([]); // Update the DOM using the root\n\n  update(doc, root);\n  return root;\n}\n\nexports.default = parse;\n/**\n * Update the dom structure, for one changed layer.\n *\n * @param newChilds - The new children.\n * @param parent - The new parent.\n * @returns The parent node.\n */\n\nfunction update(newChilds, parent) {\n  // Normalize\n  var arr = Array.isArray(newChilds) ? newChilds : [newChilds]; // Update parent\n\n  if (parent) {\n    parent.children = arr;\n  } else {\n    parent = null;\n  } // Update neighbors\n\n\n  for (var i = 0; i < arr.length; i++) {\n    var node = arr[i]; // Cleanly remove existing nodes from their previous structures.\n\n    if (node.parent && node.parent.children !== arr) {\n      htmlparser2_1.DomUtils.removeElement(node);\n    }\n\n    if (parent) {\n      node.prev = arr[i - 1] || null;\n      node.next = arr[i + 1] || null;\n    } else {\n      node.prev = node.next = null;\n    }\n\n    node.parent = parent;\n  }\n\n  return parent;\n}\n\nexports.update = update;","map":{"version":3,"names":["Object","defineProperty","exports","value","update","htmlparser2_1","require","htmlparser2_adapter_1","parse5_adapter_1","domhandler_1","parse","content","options","isDocument","Buffer","isBuffer","toString","xmlMode","_useHtmlParser2","doc","Array","isArray","root","Document","default","newChilds","parent","arr","children","i","length","node","DomUtils","removeElement","prev","next"],"sources":["/Users/sebas/Desktop/robofriends-testing/node_modules/cheerio/lib/parse.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.update = void 0;\nvar htmlparser2_1 = require(\"htmlparser2\");\nvar htmlparser2_adapter_1 = require(\"./parsers/htmlparser2-adapter\");\nvar parse5_adapter_1 = require(\"./parsers/parse5-adapter\");\nvar domhandler_1 = require(\"domhandler\");\n/*\n * Parser\n */\nfunction parse(content, options, isDocument) {\n    if (typeof Buffer !== 'undefined' && Buffer.isBuffer(content)) {\n        content = content.toString();\n    }\n    if (typeof content === 'string') {\n        return options.xmlMode || options._useHtmlParser2\n            ? htmlparser2_adapter_1.parse(content, options)\n            : parse5_adapter_1.parse(content, options, isDocument);\n    }\n    var doc = content;\n    if (!Array.isArray(doc) && domhandler_1.isDocument(doc)) {\n        // If `doc` is already a root, just return it\n        return doc;\n    }\n    // Add conent to new root element\n    var root = new domhandler_1.Document([]);\n    // Update the DOM using the root\n    update(doc, root);\n    return root;\n}\nexports.default = parse;\n/**\n * Update the dom structure, for one changed layer.\n *\n * @param newChilds - The new children.\n * @param parent - The new parent.\n * @returns The parent node.\n */\nfunction update(newChilds, parent) {\n    // Normalize\n    var arr = Array.isArray(newChilds) ? newChilds : [newChilds];\n    // Update parent\n    if (parent) {\n        parent.children = arr;\n    }\n    else {\n        parent = null;\n    }\n    // Update neighbors\n    for (var i = 0; i < arr.length; i++) {\n        var node = arr[i];\n        // Cleanly remove existing nodes from their previous structures.\n        if (node.parent && node.parent.children !== arr) {\n            htmlparser2_1.DomUtils.removeElement(node);\n        }\n        if (parent) {\n            node.prev = arr[i - 1] || null;\n            node.next = arr[i + 1] || null;\n        }\n        else {\n            node.prev = node.next = null;\n        }\n        node.parent = parent;\n    }\n    return parent;\n}\nexports.update = update;\n"],"mappings":"AAAA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;AACAD,OAAO,CAACE,MAAR,GAAiB,KAAK,CAAtB;;AACA,IAAIC,aAAa,GAAGC,OAAO,CAAC,aAAD,CAA3B;;AACA,IAAIC,qBAAqB,GAAGD,OAAO,CAAC,+BAAD,CAAnC;;AACA,IAAIE,gBAAgB,GAAGF,OAAO,CAAC,0BAAD,CAA9B;;AACA,IAAIG,YAAY,GAAGH,OAAO,CAAC,YAAD,CAA1B;AACA;AACA;AACA;;;AACA,SAASI,KAAT,CAAeC,OAAf,EAAwBC,OAAxB,EAAiCC,UAAjC,EAA6C;EACzC,IAAI,OAAOC,MAAP,KAAkB,WAAlB,IAAiCA,MAAM,CAACC,QAAP,CAAgBJ,OAAhB,CAArC,EAA+D;IAC3DA,OAAO,GAAGA,OAAO,CAACK,QAAR,EAAV;EACH;;EACD,IAAI,OAAOL,OAAP,KAAmB,QAAvB,EAAiC;IAC7B,OAAOC,OAAO,CAACK,OAAR,IAAmBL,OAAO,CAACM,eAA3B,GACDX,qBAAqB,CAACG,KAAtB,CAA4BC,OAA5B,EAAqCC,OAArC,CADC,GAEDJ,gBAAgB,CAACE,KAAjB,CAAuBC,OAAvB,EAAgCC,OAAhC,EAAyCC,UAAzC,CAFN;EAGH;;EACD,IAAIM,GAAG,GAAGR,OAAV;;EACA,IAAI,CAACS,KAAK,CAACC,OAAN,CAAcF,GAAd,CAAD,IAAuBV,YAAY,CAACI,UAAb,CAAwBM,GAAxB,CAA3B,EAAyD;IACrD;IACA,OAAOA,GAAP;EACH,CAbwC,CAczC;;;EACA,IAAIG,IAAI,GAAG,IAAIb,YAAY,CAACc,QAAjB,CAA0B,EAA1B,CAAX,CAfyC,CAgBzC;;EACAnB,MAAM,CAACe,GAAD,EAAMG,IAAN,CAAN;EACA,OAAOA,IAAP;AACH;;AACDpB,OAAO,CAACsB,OAAR,GAAkBd,KAAlB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASN,MAAT,CAAgBqB,SAAhB,EAA2BC,MAA3B,EAAmC;EAC/B;EACA,IAAIC,GAAG,GAAGP,KAAK,CAACC,OAAN,CAAcI,SAAd,IAA2BA,SAA3B,GAAuC,CAACA,SAAD,CAAjD,CAF+B,CAG/B;;EACA,IAAIC,MAAJ,EAAY;IACRA,MAAM,CAACE,QAAP,GAAkBD,GAAlB;EACH,CAFD,MAGK;IACDD,MAAM,GAAG,IAAT;EACH,CAT8B,CAU/B;;;EACA,KAAK,IAAIG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,GAAG,CAACG,MAAxB,EAAgCD,CAAC,EAAjC,EAAqC;IACjC,IAAIE,IAAI,GAAGJ,GAAG,CAACE,CAAD,CAAd,CADiC,CAEjC;;IACA,IAAIE,IAAI,CAACL,MAAL,IAAeK,IAAI,CAACL,MAAL,CAAYE,QAAZ,KAAyBD,GAA5C,EAAiD;MAC7CtB,aAAa,CAAC2B,QAAd,CAAuBC,aAAvB,CAAqCF,IAArC;IACH;;IACD,IAAIL,MAAJ,EAAY;MACRK,IAAI,CAACG,IAAL,GAAYP,GAAG,CAACE,CAAC,GAAG,CAAL,CAAH,IAAc,IAA1B;MACAE,IAAI,CAACI,IAAL,GAAYR,GAAG,CAACE,CAAC,GAAG,CAAL,CAAH,IAAc,IAA1B;IACH,CAHD,MAIK;MACDE,IAAI,CAACG,IAAL,GAAYH,IAAI,CAACI,IAAL,GAAY,IAAxB;IACH;;IACDJ,IAAI,CAACL,MAAL,GAAcA,MAAd;EACH;;EACD,OAAOA,MAAP;AACH;;AACDxB,OAAO,CAACE,MAAR,GAAiBA,MAAjB"},"metadata":{},"sourceType":"script"}